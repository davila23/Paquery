<div id="users-view" class="content animate-panel main-container">
    <div class="row">
        <div class="col-lg-12">
            <div class="card">
                <div class="card-header">
                    <h2>Usuarios</h2>
                    <div id="search-input">
                      <select chosen class="form-control w-100" ng-options="status.name for status in vm.userStatus track by status.id" data-placeholder="Seleccione estado" data-ng-model="vm.userFilterStatus"></select>
                      <select chosen class="form-control w-100" ng-options="status.name for status in vm.userRoles track by status.id" data-placeholder="Seleccione rol" data-ng-model="vm.filterUserType"></select>
                      <input  id="input" placeholder="Buscar.." type="text" ng-model="vm.searchWord">
                    </div>
                </div>
                <div class="card-body" style="overflow-y: hidden;" >
                    <div class="table-responsive" style="overflow-y: hidden;" >
                        <table ng-table="vm.tableSorting" class="table table-striped table-vmiddle animated" style="overflow-y: hidden;" ng-class="{'hide-header': !$data.length, 'fadeIn': $data.length}">
                            <tr ng-repeat="user in $data">
                                <td data-title="'ID'" sortable="'id'">
                                    {{ user.id }}
                                </td>
                                <td data-title="'Nombre'" sortable="'name'" filter="{ 'name': 'text' }">
                                    {{ user.name }}
                                </td>
                                <td data-title="'Apellido'" sortable="'lastName'" filter="{ 'lastName': 'text' }">
                                    {{ user.lastName }}
                                </td>
                                <td data-title="'Usuario'" sortable="'email'" filter="{ 'email': 'text' }">
                                    {{ user.email }}
                                </td>
                                <td data-title="'Rol'" sortable="'role.name'" filter="{ 'role.name': 'text' }">
                                    {{ user.roleName }}
                                </td>
                                <td data-title="'Estado'" sortable="'state'" filter="{ 'state': 'text' }">
                                    {{ user.statusName }}
                                </td>
                                <td data-title="'Editar'">
                                    <button type="button" class="btn btn-default" ng-click="vm.editUser(user)"><i class="zmdi zmdi-edit"></i></button>
                                </td>
                                <td data-title="'Borrar'">
                                    <button type="button" class="btn btn-default" ng-click="vm.deleteUser(user.id)"><i class="zmdi zmdi-delete"></i></button>
                                </td>
                            </tr>
                            <tr ng-hide="$data.length">
                                <td colspan="6">
                                    <div class="row">
                                        <strong>No hay usuarios registrados por el momento.</strong>
                                    </div>
                                </td>
                            </tr>
                        </table>
                    </div>
                    <custom-paginatorv2 get-list="vm.getUsers" paginable-table="vm.tableSorting" search="vm.searchWord" filter-status="vm.userFilterStatus.id" user-role="vm.filterUserType.id"></custom-paginatorv2>
                </div>
            </div>
        </div>
    </div>
</div>
